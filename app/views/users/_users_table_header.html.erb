
<tr>
  <% if @user_columns.include? 'id' %>
  <th><%= sortable 'user', 'id', 'ID' %></th>
  <% end %>
  <% if @user_columns.include? 'alias' %>
  <th><%= sortable 'user', 'alias', 'Name' %></th>
  <% end %>
  <% if @user_columns.include? 'profile_link' %>
  <th>Profile Link</th>
  <% end %>
  <% if @user_columns.include? 'rating' %>
  <th><%= sortable 'user', 'credit_rating', 'Rating' %></th>
  <% end %>
  <% if @user_columns.include? 'loans' %>
  <th><%= sortable 'user', 'loan_count', 'Loans' %></th>
  <% end %>
  <% if @user_columns.include? 'repaid_loans' %>
  <th><%= sortable 'user', 'repaid_btc', 'Repaid Loans' %></th>
  <% end %>
  <% if @user_columns.include? 'total_repayments' %>
  <th><%= sortable 'user', 'payments_btc', 'Total Repayments' %></th>
  <% end %>
  <% if @user_columns.include? 'active_loans' %>
  <th><%= sortable 'user', 'active_btc', 'Active Loans' %></th>
  <% end %>
  <% if @user_columns.include? 'funding_loans' %>
  <th><%= sortable 'user', 'funding_btc', 'Funding Loans' %></th>
  <% end %>
  <% if @user_columns.include? 'overdue_loans' %>
  <th><%= sortable 'user', 'overdue_btc', 'Overdue Loans' %></th>
  <% end %>
  <% if @user_columns.include? 'approx_debt' %>
  <th>
    <%= sortable 'user', 'total_debt', 'Approx Debt' %>
    <%= image_tag('question.png', :title => "The approximate total debt calcualted for this user, based on loans they have opened and payments they have made.\n\nIf they have taken out exchange-tied loans and the exchange rate has changed significantly, this may be inaccurate.") %>
  </th>
  <% end %>
  <% if @user_columns.include? 'future_debt' %>
  <th>
    <%= sortable 'user', 'future_debt', 'Debt Incl. Funding' %>
    <%= image_tag('question.png', :title => "The approximate future debt calcualted for this user, based on loans they have opened, loans that are currently funding (should they fund) and payments they have made.\n\nIf they have taken out exchange-tied loans and the exchange rate has changed significantly, this may be inaccurate.") %>
  </th>
  <% end %>
  <% if @user_columns.include? 'total_invested' %>
  <th>
    <%= sortable 'user', 'investments_btc', 'Total Invested' %>
    <%= image_tag('question.png', :title => 'Investment figures are based on the full amount a user has invested, not the remaining investment yet to be received. This is for technical reasons, based on the information available by BTCJam.') %>
  </th>
  <% end %>
  <% if @user_columns.include? 'active_investments' %>
  <th><%= sortable 'user', 'active_investments_btc', 'Active Investments' %></th>
  <% end %>
  <% if @user_columns.include? 'overdue_investments' %>
  <th><%= sortable 'user', 'overdue_investments_btc', 'Overdue Investments' %></th>
  <% end %>
  <% if @user_columns.include? 'funding_investments' %>
  <th><%= sortable 'user', 'funding_investments_btc', 'Funding Investments' %></th>
  <% end %>
  <% if @user_columns.include? 'investment_ratio' %>
  <th>
    <%= sortable 'user', 'investment_ratio', 'Investment Ratio' %>
    <%= image_tag('question.png', :title => "The ratio of lending to borrowing this user has. A high ratio indicates that the user has invested more in the site than they have borrowed.\n\nThis shows a large amount of collateral invested in the site, and might make them a good investment target.") %>
  </th>
  <% end %>
  <% if @user_columns.include? 'last_activity' %>
  <th><%= sortable 'user', 'last_active_at', 'Last Activity' %></th>
  <% end %>
</tr>